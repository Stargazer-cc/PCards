# PCards

一个为Obsidian设计的卡片式内容展示插件，支持音乐、书籍、电影、剧集、番剧、想法和摘录七种类型的卡片。美观的卡片布局让您的笔记内容更加生动直观。

![卡片展示效果](https://raw.githubusercontent.com/Stargazer-cc/obsidian-PCards/main/assets/demo.png)

## 目录

- [功能特点](#功能特点)
- [安装方法](#安装方法)
- [快速入门](#快速入门)
- [卡片类型与字段](#卡片类型与字段)
  - [通用字段](#通用字段)
  - [音乐卡片](#音乐卡片)
  - [书籍卡片](#书籍卡片)
  - [电影卡片](#电影卡片)
  - [剧集卡片](#剧集卡片)
  - [番剧卡片](#番剧卡片)
  - [想法卡片](#想法卡片)
  - [摘录卡片](#摘录卡片)
- [高级功能](#高级功能)
  - [卡片总览视图](#卡片总览视图)
  - [快速记录视图](#快速记录视图)
  - [自定义元数据](#自定义元数据)
  - [与Timeline插件集成](#与timeline插件集成)
- [常见问题解答](#常见问题解答)
- [注意事项](#注意事项)

## 功能特点

- **多种卡片类型**：支持音乐、书籍、电影、剧集、番剧、想法和摘录七种类型
- **美观的卡片布局**：精心设计的卡片样式，自动适配浅色/深色主题
- **封面图片显示**：支持显示卡片相关的封面图片
- **评分系统**：可为媒体内容添加评分，并以不同颜色区分评分等级
- **标签系统**：支持为卡片添加标签，方便分类和筛选
- **自定义元数据**：使用`meta.`前缀添加任意自定义字段
- **灵活的URL支持**：支持外部链接和Obsidian内部链接
- **卡片总览**：专门的视图查看和管理所有卡片
- **快速记录**：便捷的表单界面快速添加新卡片
- **筛选与排序**：多条件筛选和多字段排序功能

## 安装方法

### 从Obsidian社区插件库安装

1. 打开Obsidian设置
2. 进入"第三方插件"
3. 关闭"安全模式"
4. 点击"浏览社区插件"
5. 搜索"PCards"
6. 点击"安装"
7. 启用插件

### 手动安装

1. 下载最新版本的发布包
2. 解压到你的Obsidian库的插件文件夹：`VaultFolder/.obsidian/plugins/`
3. 重新启动Obsidian
4. 在设置中启用插件

## 快速入门

### 基本使用流程

1. **添加卡片**：有两种方式可以添加卡片
   - **方式一**：直接在笔记中使用代码块语法
     - 在笔记中输入三个反引号 \```，然后输入卡片类型（如 `music-card`）
     - 填写必要的字段信息
     - 以三个反引号 \``` 结束
   - **方式二**：使用快速记录视图
     - 点击左侧功能区的"快速记录"按钮（或使用快捷键 `Ctrl+Shift+N`）
     - 选择卡片类型
     - 填写表单信息
     - 点击保存

2. **查看卡片**：
   - 在预览模式下查看笔记中的卡片
   - 使用卡片总览视图查看所有卡片

3. **管理卡片**：
   - 在卡片总览视图中筛选、排序和管理卡片
   - 点击卡片可以跳转到对应的笔记位置

## 卡片类型与字段

### 通用字段

所有类型的卡片都支持以下通用字段：

- `title`：标题（必填）
- `year`：年份（必填）
- `description`：描述/评论（必填）
- `rating`：评分，范围通常为0-10（可选）
- `cover`：封面图片链接（可选）
  - 支持外部图片链接（http/https）
  - 支持Obsidian内部图片链接（![[图片名称]]）
- `tags`：标签，用空格分隔（可选）
- `url`：链接地址（可选）
  - 支持外部链接（http/https）
  - 支持obsidian://协议链接
- `collection_date`：收录日期，格式为YY-MM-DD（可选）
- `meta.*`：自定义元数据（可选，详见[自定义元数据](#自定义元数据)）

### 音乐卡片

音乐卡片用于记录和展示音乐作品。

**特有字段**：
- `artist`：艺术家/歌手名称（必填）

**示例**：

```music-card
title: 七里香
artist: 周杰伦
year: 2004
description: 周杰伦第五张专辑，融合中国风与现代流行音乐元素，歌词优美，旋律动听。
rating: 9.2
cover: https://example.com/qilixiang.jpg
tags: #华语 #流行 #经典
url: https://music.163.com/song?id=186016
collection_date: 22-03-15
meta.album: 七里香
meta.genre: 流行
```

### 书籍卡片

书籍卡片用于记录和展示书籍作品。

**特有字段**：
- `author`：作者名称（必填）

**示例**：

```book-card
title: 活着
author: 余华
year: 1993
description: 一部描述中国农村人生活的小说，通过福贵的一生展现了人如何在困境中求生存的故事。
rating: 9.4
cover: ![[活着.jpg]]
tags: #小说 #中国文学 #经典
url: https://book.douban.com/subject/4913064/
collection_date: 21-05-12
meta.publisher: 作家出版社
meta.pages: 248
```

### 电影卡片

电影卡片用于记录和展示电影作品。

**特有字段**：
- `director`：导演名称（必填）

**示例**：

```movie-card
title: 盗梦空间
director: 克里斯托弗·诺兰
year: 2010
description: 一部极具创意的科幻电影，通过多层梦境探索潜意识世界，情节扣人心弦。
rating: 9.3
cover: https://example.com/inception.jpg
tags: #科幻 #动作 #悬疑
url: https://movie.douban.com/subject/3541415/
collection_date: 20-08-21
meta.主演: 莱昂纳多·迪卡普里奥
meta.时长: 148分钟
```

### 剧集卡片

剧集卡片用于记录和展示电视剧作品。

**特有字段**：
- `director`：导演名称（必填）

**示例**：

```tv-card
title: 切尔诺贝利
director: 约翰·伦克
year: 2019
description: HBO出品的核灾难迷你剧，真实还原切尔诺贝利核电站事故及其影响。
rating: 9.6
cover: https://example.com/chernobyl.jpg
tags: #剧情 #历史 #灾难
url: https://movie.douban.com/subject/27098632/
collection_date: 22-10-05
meta.季数: 1
meta.集数: 5
```

### 番剧卡片

番剧卡片用于记录和展示动画作品。

**特有字段**：
- `director`：导演名称（必填）

**示例**：

```anime-card
title: 进击的巨人
director: 荒木哲郎
year: 2013
description: 人类与巨人的生存之战，剧情紧凑，世界观宏大，伦理思考深刻。
rating: 9.0
cover: ![[进击的巨人.jpg]]
tags: #动作 #黑暗 #史诗
url: https://bangumi.tv/subject/38854
collection_date: 21-12-18
meta.季数: 4
meta.集数: 86
```

### 想法卡片

想法卡片用于记录灵感和想法。

**特有字段**：
- `idea`：想法内容（必填）
- `source`：灵感来源（可选）
- `date`：记录日期，格式为YYYY-MM-DD HH:MM:SS（可选）

**示例**：

```idea-card
idea: 将PCards插件与日记系统结合，自动生成每月媒体消费报告。
source: Obsidian社区讨论
date: 2023-08-15 14:32:50
tags: #插件 #项目点子
url: https://github.com/Stargazer-cc/obsidian-PCards/issues
```

### 摘录卡片

摘录卡片用于记录书籍、文章等的摘录内容。

**特有字段**：
- `quote`：摘录内容（必填）
- `source`：来源（可选）
- `date`：记录日期，格式为YYYY-MM-DD HH:MM:SS（可选）

**示例**：

```quote-card
quote: 生活不能等待别人来安排，要自己去争取和奋斗。
source: 《平凡的世界》 - 路遥
date: 2023-05-20 09:45:12
tags: #名言 #激励
url: https://book.douban.com/subject/1084165/
```

## 高级功能

### 卡片总览视图

卡片总览视图提供了一个集中管理所有卡片的界面。

**功能**：
- 按类型筛选卡片
- 设置多条件筛选规则
- 自定义排序规则
- 调整列数和显示字段
- 点击卡片跳转到原笔记位置

**打开方式**：
- 命令面板中搜索"PCards: 打开卡片总览"
- 侧边栏中点击卡片总览图标

### 快速记录视图

快速记录视图提供了一个便捷的表单界面，用于快速添加新卡片。

**功能**：
- 选择卡片类型
- 填写表单字段
- 添加自定义元数据字段
- 一键保存到指定笔记

**打开方式**：
- 命令面板中搜索"PCards: 打开快速记录"
- 使用快捷键 `Ctrl+Shift+N`
- 侧边栏中点击快速记录图标

**自定义元数据**：
- 在电影、书籍、音乐、剧集和番剧卡片的快速记录表单中，可以添加任意数量的自定义元数据字段
- 点击"添加元数据字段"按钮可以添加更多字段
- 每个字段包含一个字段名和字段值输入框
- 填写完成后，自定义元数据会自动添加到卡片的`meta`部分

### 自定义元数据

您可以使用`meta.`前缀为卡片添加任意自定义字段。

**格式**：`meta.字段名: 字段值`

**示例**：
```
meta.导演: 克里斯托弗·诺兰
meta.主演: 莱昂纳多·迪卡普里奥
meta.时长: 148分钟
meta.观看日期: 2023-01-15
```

### 与Timeline插件集成

PCards插件可以与Timeline插件集成，在时间线中展示卡片内容。

**示例**：
```markdown
```timeline
```music-card
title: 七里香
artist: 周杰伦
year: 2004
description: 经典专辑
```

```book-card
title: 活着
author: 余华
year: 1993
description: 生命的韧性
```
```

## 常见问题解答

**Q: 卡片无法正常显示怎么办？**  
A: 确保所有必填字段已填写。音乐卡片需要`title`、`artist`、`year`和`description`；书籍卡片需要`title`、`author`、`year`和`description`；电影/剧集/番剧卡片需要`title`、`director`、`year`和`description`。

**Q: 如何在卡片中使用Obsidian内部链接？**  
A: 对于`url`字段，可以使用`obsidian://`协议链接到内部笔记；对于`cover`字段，可以使用`![[图片名称]]`格式引用库中的图片。

**Q: 如何刷新卡片索引？**  
A: 在卡片总览视图中点击"刷新索引"按钮，插件会重新扫描所有笔记文件并更新卡片索引。

**Q: 卡片样式可以自定义吗？**  
A: 可以在插件设置中自定义卡片的文字颜色，或者通过CSS代码片段进一步自定义样式。

**Q: 如何批量导入卡片？**  
A: 目前插件不直接支持批量导入，但您可以准备好包含多个卡片代码块的Markdown文件，然后导入到Obsidian中。

**Q: 如何添加自定义元数据字段？**  
A: 在快速记录视图中，所有媒体类型卡片（电影、书籍、音乐、剧集、番剧）都提供了自定义元数据区域，可以添加任意数量的字段名和字段值。也可以在手动编写卡片时使用`meta.字段名: 字段值`格式添加。

## 注意事项

1. **必填字段**：所有必填字段都必须填写，否则卡片可能无法正常显示。
2. **标签格式**：标签之间使用空格分隔，可以使用`#`前缀也可以不用。
3. **自定义元数据**：使用`meta.`前缀定义元数据，可以添加任意自定义字段。
4. **图片链接**：支持外部链接和Obsidian内部链接，内部链接格式为`![[图片名称]]`。
5. **更新索引**：如果发现卡片显示不全，可以在卡片总览视图中刷新索引。
6. **保存路径**：可以在设置中为每种卡片类型指定默认保存路径。